if(function(angular){"use strict";angular.module("ngx",["ngx.config","ngx.date","ngx.dictionary","ngx.loader","ngx.smap","ngx.utils","ngx.ui.addressInput","ngx.ui.checkboxlist","ngx.ui.ckeditor","ngx.ui.confirm","ngx.ui.dateInput","ngx.ui.dialog","ngx.ui.gallery","ngx.ui.geomap","ngx.ui.hashtagInput","ngx.ui.imageupload","ngx.ui.invalid","ngx.ui.lightbox","ngx.ui.rating","ngx.ui.scrollTo","ngx.ui.scrollToInvalid","ngx.ui.smap","ngx.ui.tagsInput","ngx.ui.textCurtain","ngx.ui.timeInput","ngx.ui.tooltip","ngx.ui.translate","ngx.ui.validate","ngx.ui.wwwInput","ngx.ui.wysiwyg"])}(window.angular),function(Array){"use strict";Array.prototype.indexOf||(Array.prototype.indexOf=function(search){for(var i=0;i<this.length;i++)if(this[i]===search)return i;return-1})}(window.Array),!window.console){var names=["log","debug","info","warn","error","assert","dir","dirxml","group","groupEnd","time","timeEnd","count","trace","profile","profileEnd"];window.console={};for(var i=0;i<names.length;++i)window.console[names[i]]=function(){}}!function(doc,window){"use strict";function one(fn){fn._done||(fn(),fn._done=1)}function toLabel(url){var els=url.split("/"),name=els[els.length-1],i=name.indexOf("?");return-1!=i?name.substring(0,i):name}function getScript(url){var script;if("object"==typeof url)for(var key in url)url[key]&&(script={name:key,url:url[key]});else script={name:toLabel(url),url:url};var existing=scripts[script.name];return existing&&existing.url===script.url?existing:(scripts[script.name]=script,script)}function each(arr,fn){if(arr){"object"==typeof arr&&(arr=[].slice.call(arr));for(var i=0;i<arr.length;i++)fn.call(arr,arr[i],i)}}function isFunc(el){return"[object Function]"==Object.prototype.toString.call(el)}function allLoaded(els){els=els||scripts;var loaded;for(var name in els){if(els.hasOwnProperty(name)&&els[name].state!=LOADED)return!1;loaded=!0}return loaded}function onPreload(script){script.state=PRELOADED,each(script.onpreload,function(el){el.call()})}function preload(script){void 0===script.state&&(script.state=PRELOADING,script.onpreload=[],scriptTag({src:script.url,type:"cache"},function(){onPreload(script)}))}function load(script,callback){return script.state==LOADED?callback&&callback():script.state==LOADING?api.ready(script.name,callback):script.state==PRELOADING?script.onpreload.push(function(){load(script,callback)}):(script.state=LOADING,scriptTag(script.url,function(){script.state=LOADED,callback&&callback(),each(handlers[script.name],function(fn){one(fn)}),allLoaded()&&isDomReady&&each(handlers.ALL,function(fn){one(fn)})}),void 0)}function scriptTag(src,callback){var s=doc.createElement("script");s.type="text/"+(src.type||"javascript"),s.src=src.src||src,s.async=!1,s.onreadystatechange=s.onload=function(){var state=s.readyState;callback.done||state&&!/loaded|complete/.test(state)||(callback.done=!0,callback())},(doc.body||head).appendChild(s)}function fireReady(){isDomReady||(isDomReady=!0,each(domWaiters,function(fn){one(fn)}))}var isHeadReady,isDomReady,head=doc.documentElement,domWaiters=[],queue=[],handlers={},scripts={},isAsync=doc.createElement("script").async===!0||"MozAppearance"in doc.documentElement.style||window.opera,head_var=window.head_conf&&window.head_conf.head||"head",api=window[head_var]=window[head_var]||function(){api.ready.apply(null,arguments)},PRELOADED=1,PRELOADING=2,LOADING=3,LOADED=4;if(api.js=isAsync?function(){var args=arguments,fn=args[args.length-1],els={};return isFunc(fn)||(fn=null),each(args,function(el,i){el!=fn&&(el=getScript(el),els[el.name]=el,load(el,fn&&i==args.length-2?function(){allLoaded(els)&&one(fn)}:null))}),api}:function(){var args=arguments,rest=[].slice.call(args,1),next=rest[0];return isHeadReady?(next?(each(rest,function(el){isFunc(el)||preload(getScript(el))}),load(getScript(args[0]),isFunc(next)?next:function(){api.js.apply(null,rest)})):load(getScript(args[0])),api):(queue.push(function(){api.js.apply(null,args)}),api)},api.ready=function(key,fn){if(key==doc)return isDomReady?one(fn):domWaiters.push(fn),api;if(isFunc(key)&&(fn=key,key="ALL"),"string"!=typeof key||!isFunc(fn))return api;var script=scripts[key];if(script&&script.state==LOADED||"ALL"==key&&allLoaded()&&isDomReady)return one(fn),api;var arr=handlers[key];return arr?arr.push(fn):arr=handlers[key]=[fn],api},api.ready(doc,function(){allLoaded()&&each(handlers.ALL,function(fn){one(fn)}),api.feature&&api.feature("domloaded",!0)}),window.addEventListener)doc.addEventListener("DOMContentLoaded",fireReady,!1),window.addEventListener("load",fireReady,!1);else if(window.attachEvent){doc.attachEvent("onreadystatechange",function(){"complete"===doc.readyState&&fireReady()});var frameElement=1;try{frameElement=window.frameElement}catch(e){}!frameElement&&head.doScroll&&function(){try{head.doScroll("left"),fireReady()}catch(e){var a=arguments;return window.setTimeout(a.callee,1),void 0}}(),window.attachEvent("onload",fireReady)}if(!doc.readyState&&doc.addEventListener){var handler;doc.readyState="loading",doc.addEventListener("DOMContentLoaded",handler=function(){doc.removeEventListener("DOMContentLoaded",handler,!1),doc.readyState="complete"},!1)}window.setTimeout(function(){isHeadReady=!0,each(queue,function(fn){fn()})},300)}(window.document,window),function(angular,document){"use strict";var basePath=null,re=/ngx(\.min)?\.js(.*)$/;if(angular.forEach(document.getElementsByTagName("script"),function(script){script.src.match(re)&&(basePath=script.src.replace(re,""))}),null===basePath)throw new Error("ngx base path cannot be determined.");var module=angular.module("ngx.config",[]);module.value("ngxConfig",{basePath:basePath,libsPath:basePath+"libs/",templatesPath:basePath+"templates/",ui:{}})}(window.angular,window.document),function(angular){"use strict";var ngxDate={};ngxDate.ini_set=function(varname,newvalue){var oldval="",that=this;this.php_js=this.php_js||{},this.php_js.ini=this.php_js.ini||{},this.php_js.ini[varname]=this.php_js.ini[varname]||{},oldval=this.php_js.ini[varname].local_value;var _setArr=function(oldval){"undefined"==typeof oldval&&(that.php_js.ini[varname].local_value=[]),that.php_js.ini[varname].local_value.push(newvalue)};switch(varname){case"extension":"function"==typeof this.dl&&this.dl(newvalue),_setArr(oldval,newvalue);break;default:this.php_js.ini[varname].local_value=newvalue}return oldval},ngxDate.format=function(format,timestamp){var jsdate,f,formatChrCb,that=this,formatChr=/\\?([a-z])/gi,_pad=function(n,c){return(n+="").length<c?new Array(++c-n.length).join("0")+n:n},txt_words=["Sun","Mon","Tues","Wednes","Thurs","Fri","Satur","January","February","March","April","May","June","July","August","September","October","November","December"];return formatChrCb=function(t,s){return f[t]?f[t]():s},f={d:function(){return _pad(f.j(),2)},D:function(){return f.l().slice(0,3)},j:function(){return jsdate.getDate()},l:function(){return txt_words[f.w()]+"day"},N:function(){return f.w()||7},S:function(){var j=f.j();return 4>j||j>20&&["st","nd","rd"][j%10-1]||"th"},w:function(){return jsdate.getDay()},z:function(){var a=new Date(f.Y(),f.n()-1,f.j()),b=new Date(f.Y(),0,1);return Math.round((a-b)/864e5)+1},W:function(){var a=new Date(f.Y(),f.n()-1,f.j()-f.N()+3),b=new Date(a.getFullYear(),0,4);return _pad(1+Math.round((a-b)/864e5/7),2)},F:function(){return txt_words[6+f.n()]},m:function(){return _pad(f.n(),2)},M:function(){return f.F().slice(0,3)},n:function(){return jsdate.getMonth()+1},t:function(){return new Date(f.Y(),f.n(),0).getDate()},L:function(){var j=f.Y();return 0===j%4&&0!==j%100||0===j%400},o:function(){var n=f.n(),W=f.W(),Y=f.Y();return Y+(12===n&&9>W?-1:1===n&&W>9)},Y:function(){return jsdate.getFullYear()},y:function(){return(f.Y()+"").slice(-2)},a:function(){return jsdate.getHours()>11?"pm":"am"},A:function(){return f.a().toUpperCase()},B:function(){var H=3600*jsdate.getUTCHours(),i=60*jsdate.getUTCMinutes(),s=jsdate.getUTCSeconds();return _pad(Math.floor((H+i+s+3600)/86.4)%1e3,3)},g:function(){return f.G()%12||12},G:function(){return jsdate.getHours()},h:function(){return _pad(f.g(),2)},H:function(){return _pad(f.G(),2)},i:function(){return _pad(jsdate.getMinutes(),2)},s:function(){return _pad(jsdate.getSeconds(),2)},u:function(){return _pad(1e3*jsdate.getMilliseconds(),6)},e:function(){throw"Not supported (see source code of date() for timezone on how to add support)"},I:function(){var a=new Date(f.Y(),0),c=Date.UTC(f.Y(),0),b=new Date(f.Y(),6),d=Date.UTC(f.Y(),6);return 0+(a-c!==b-d)},O:function(){var tzo=jsdate.getTimezoneOffset(),a=Math.abs(tzo);return(tzo>0?"-":"+")+_pad(100*Math.floor(a/60)+a%60,4)},P:function(){var O=f.O();return O.substr(0,3)+":"+O.substr(3,2)},T:function(){return"UTC"},Z:function(){return 60*-jsdate.getTimezoneOffset()},c:function(){return"Y-m-d\\Th:i:sP".replace(formatChr,formatChrCb)},r:function(){return"D, d M Y H:i:s O".replace(formatChr,formatChrCb)},U:function(){return parseInt(jsdate/1e3,10)}},this.date=function(format,timestamp){return that=this,jsdate=null===timestamp?new Date:timestamp instanceof Date?new Date(timestamp):new Date(1e3*timestamp),format.replace(formatChr,formatChrCb)},this.date(format,timestamp)},ngxDate.check=function(year,month,day){return month>0&&13>month&&year>0&&32768>year&&day>0&&day<=new Date(year,month,0).getDate()},ngxDate.parse=function(inputValue){var r=new RegExp("^([0-9]{1,2}). ?([0-9]{1,2}). ?([0-9]{4})").exec(inputValue),str=new RegExp("^([\\-|\\+]?)([0-9]+)d").exec(inputValue),now=new Date;if("today"==inputValue)return new Date(now.getFullYear(),now.getMonth(),now.getDate(),0,0,0,0);if(r&&ngxDate.check(r[3],r[2],r[1]))return new Date(r[3],r[2]-1,r[1]);if(str){var inc=1e3*24*60*60*str[2],timestamp=now.getTime();return"-"==str[1]?timestamp-=inc:timestamp+=inc,new Date(timestamp)}return void 0},angular.module("ngx.date",[]).value("ngxDate",ngxDate)}(window.angular),function(angular){"use strict";var module=angular.module("ngx.dictionary",[]);module.factory("ngxDictionary",function($locale){function ngxDictionary(key,language,params){var string=dictionary[language?language:currentLanguage][key];if(void 0!==params){var re=/%s/;angular.forEach(params,function(param){string=string.replace(re,param)})}return string}var dictionary={},currentLanguage=$locale.id.split("-")[0];return ngxDictionary.setLanguage=function(language){return currentLanguage=language,this},ngxDictionary.addItems=function(language,items){return angular.isUndefined(dictionary[language])&&(dictionary[language]={}),angular.extend(dictionary[language],items),this},ngxDictionary})}(window.angular),function(angular,head){"use strict";var module=angular.module("ngx.loader",["ngx.config"]);module.factory("ngxLoader",["ngxConfig",function(ngxConfig){var loaded=[];return function(files,onload){var queue={js:[],css:[]};angular.forEach("string"==typeof files?[files]:files,function(file){var type,force=!1;if(file.match(/^(\/|http)/)||(file=ngxConfig.basePath+file),file.match(/\.css$/i))type="css";else{if(!file.match(/\.js$/i))throw new Error("File type not supported");type="js",force=onload?!0:!1}loaded.indexOf(file)>=0&&!force||(queue[type].push(file),loaded.push(file))}),angular.forEach(queue,function(files,type){if(files.length)switch(type){case"js":onload&&(files.push(onload),onload=null),head.js.apply(this,files);break;case"css":angular.forEach(files,function(file){angular.element("head").append(angular.element('<link rel="stylesheet" type="text/css" href="'+file+'"></link>'))})}}),onload&&onload()}}])}(window.angular,window.head),function(angular,$,window){"use strict";var module=angular.module("ngx.smap",[]);module.config(function(){window.console.DEBUG=!0}),module.factory("ngxSmap",function(){function NgxSmap(wrapper){function smapCoords(coords){return"object"==typeof coords?coords.toWGS84?coords:SMap.Coords.fromWGS84(void 0!==coords.lon?coords.lon:coords[0],void 0!==coords.lat?coords.lat:coords[1]):"string"==typeof coords?(coords=coords.split(","),smapCoords({lat:coords[0],lon:coords[1]})):void 0}var smap,card,markerLayer,geocoder,self=this,cache={coords:{},query:{}},typeList={stre:"street",addr:"number",muni:"city",dist:"district",regi:"region",ward:"ward",coun:"country",base:"base",firm:"firm"},typeFilter={street:"^ulice ",number:"^č\\.p\\. ",city:"^obec ",district:"^okres ",region:"^(kraj( Hlavní město)?|provincie) ",ward:"^(čtvrť|část obce) "};this.create=function(options){smap=new SMap(wrapper),smap.addDefaultLayer(SMap.DEF_BASE).enable(),options||(options={}),"off"!==options.controls&&smap.addDefaultControls(),card=new SMap.Card(230),$(card.getBody()).css("padding-right","18px"),markerLayer=new SMap.Layer.Marker,smap.addLayer(markerLayer),markerLayer.enable(),smap.getSignals().addListener(window,"map-click",function(signal){$(self).triggerHandler("click",[SMap.Coords.fromEvent(signal.data.event,smap)])})},this.geocodeQuery=function(query,callback){cache.query[query]?callback(cache.query[query]):(geocoder&&geocoder.abort(),geocoder=new SMap.Geocoder(query,function(geocoder){var results=geocoder.getResults();results=results[0]&&results[0].results&&results[0].results.length?results[0].results:[],angular.forEach(results,function(item,key){results[key].type=typeList[item.source],results[key].coords=self.formatCoords(item.coords)}),cache.query[query]=results,callback(results)}))},this.geocodeCoords=function(coords,callback){function callbacks(data){callback&&callback(data),$(self).triggerHandler("geocodeCoords",[data])}coords=smapCoords(coords);var ckey=coords.x+"-"+coords.y;return cache.coords[ckey]?(callbacks(cache.coords[ckey]),void 0):(new SMap.Geocoder.Reverse(coords,function(geocoder){var type,label,results=geocoder.getResults(),coords=results.coords.toWGS84(),data={coords:self.formatCoords(coords),label:results.label,meta:{}};angular.forEach(results.items,function(item){if(type=typeList[item.type])switch(label=item.name,typeFilter[type]&&(label=label.replace(new RegExp(typeFilter[type],"i"),"")),data[type]=label,data.meta[type]={id:item.id,coords:self.formatCoords(item.coords)},type){case"number":var parts=label.split("/");data.registry_number=parts[0],data.house_number=parts[1]?parts[1]:void 0;break;case"city":try{var match=new RegExp(", ([0-9]{3}) ([0-9]{2}) "+label).exec(results.label);match&&(data.zip_code=match[1]+" "+match[2])}catch(e){}}}),!data.street&&data.ward&&(data.street=data.ward),cache.coords[ckey]=data,callbacks(data)}),void 0)},this.setCenter=function(coords,options){coords&&(coords=smapCoords(coords),options.zoom?smap.setCenterZoom(coords,options.zoom===!0?15:options.zoom):smap.setCenter(coords),options.marker&&(markerLayer.removeAll(),markerLayer.addMarker(new SMap.Marker(coords,"marker"))),options.card&&(smap.addCard(card,coords),card.getBody().innerHTML=options.card))},this.formatLabel=function(data,query){if("firm"===query.source||"addr"===query.source){var label=(data.street?data.street:data.ward)+" "+data.number;return data.city&&(label+=", "+(data.zip_code?data.zip_code+" ":"")+data.city),data.country&&(label+=", "+data.country),label}return query.label},this.formatCoords=function(coords){var $coords=smapCoords(coords).toWGS84();return{lon:$coords[0],lat:$coords[1]}}}var SMap=window.SMap;if(void 0===SMap)throw"Seznam map API is not loaded, see http://api4.mapy.cz/view?page=instruction";return function(wrapper){return new NgxSmap(wrapper)}})}(window.angular,window.jQuery,window),function(angular,$){"use strict";var module=angular.module("ngx.ui.addressInput",["ngx.ui.smap","ngx.ui.geomap"]);module.directive("ngxAddressInput",["$timeout","$window","ngxSmap",function($timeout,$window,ngxSmap){return{require:"ngModel",compile:function(element,attrs){var hasGeomap=angular.isDefined(attrs.geomap);return function(scope,element,attrs,ctrl){function found(count){ctrl.$setValidity("found",angular.isNumber(count)?count>0:count)}function loading(status){ctrl.loading=status}function setGeomap(map){geomap=map,$(geomap).bind("geocodeCoords",function(event,data){$timeout(function(){ctrl.$setViewValue(data)},0)})}function setCoords(coords,query){loading(!0),angular.isUndefined(query)&&(query={source:"addr"}),geomap.geocodeCoords(coords,function(data){data.label=geomap.formatLabel(data,query),$(attrs.geomap).is(":visible")&&geomap.setCenter(data.coords,{zoom:!0,card:data.label}),loading(!1),found(!0),angular.forEach(requiredTypes,function(requiredType){ctrl.$setValidity(requiredType,data&&data[requiredType])})})}var geomap,allowedTypes=attrs.allowedTypes?attrs.allowedTypes.replace(/[ ]+/g,"").split(","):[],requiredTypes=attrs.requiredTypes?attrs.requiredTypes.replace(/[ ]+/g,"").split(","):[];ctrl.$parsers.push(function(data){var model;if(angular.isObject(data))model=data,"true"!==attrs.meta&&delete model.meta,element.val(data.label);else{if(!angular.isString(data)&&!angular.isUndefined(data))throw"Invalid address data";model={label:data}}return model}),ctrl.$formatters.push(function(value){return angular.isObject(value)?(value.coords&&setCoords(value.coords),angular.isString(value.label)?value.label:""):""}),ctrl.loading=!1,hasGeomap?attrs.$observe("geomap",function(value){setGeomap(angular.element(value).data("ngx.ui.geomap"))}):setGeomap(ngxSmap()),element.autocomplete({delay:500,source:function(request,response){loading(!0),scope.$apply(),geomap.geocodeQuery(request.term,function(results){var $results=[];angular.forEach(results,function(item){(!allowedTypes.length||allowedTypes.indexOf(item.type)>-1)&&$results.push(item)}),found($results.length),response($results),loading(!1),scope.$apply()})},select:function(event,ui){return setCoords(ui.item.coords,ui.item),scope.$apply(),!1}}),$($window).click(function(){element.autocomplete("close")})}}}}])}(window.angular,window.jQuery,window),function(angular){"use strict";var module=angular.module("ngx.ui.checkboxlist",[]);module.directive("ngxCheckboxlist",["$interpolate",function($interpolate){return{require:"ngModel",scope:!1,link:function(scope,element,attrs,ctrl){function setValidity(values){ctrl.$setValidity("required",required?values.length>0:!0),ctrl.$setValidity("min",angular.isNumber(minCount)?values.length>=minCount:!0),ctrl.$setValidity("max",angular.isNumber(maxCount)?values.length<=maxCount:!0)}var id=attrs.ngModel,required=angular.isDefined(attrs.required),minCount=attrs.min?parseInt(attrs.min,10):null,maxCount=attrs.max?parseInt(attrs.max,10):null;scope.$parent.checkboxListMainStore||(scope.$parent.checkboxListMainStore={}),scope.$parent.checkboxListMainStore[id]||(scope.$parent.checkboxListMainStore[id]={ctrl:[],list:{}});var checkboxControl=scope.$parent.checkboxListMainStore[id];ctrl.value=$interpolate(element.val())(scope),checkboxControl.ctrl.push(ctrl),checkboxControl.list[ctrl.value]=attrs.title,ctrl.list=checkboxControl.list,ctrl.$parsers.push(function(){var values=[];return angular.forEach(checkboxControl.ctrl,function(ctrl){ctrl.$viewValue&&values.push(ctrl.value)}),setValidity(values),values}),ctrl.$formatters.push(function(values){values||(values=[]),setValidity(values);for(var i=0;i<values.length;i++)if(values[i]===ctrl.value)return!0;return!1})}}}])}(window.angular),window.CKEDITOR_BASEPATH="",function(angular,window){"use strict";var module=angular.module("ngx.ui.ckeditor",["ngx.config","ngx.loader"]);module.directive("ngxCkeditor",["$parse","ngxConfig","ngxLoader",function($parse,ngxConfig,ngxLoader){window.CKEDITOR_BASEPATH=ngxConfig.libsPath+"ckeditor/";var deps=[window.CKEDITOR_BASEPATH+"ckeditor.js"];return{restrict:"A",require:"ngModel",link:function(scope,element,attrs,ctrl){element.hide(),ngxLoader(deps,function(){element.show();var strokes=[[window.CKEDITOR.CTRL+90,"undo"],[window.CKEDITOR.CTRL+89,"redo"],[window.CKEDITOR.CTRL+window.CKEDITOR.SHIFT+90,"redo"]];attrs.toolbarItems&&(attrs.toolbarItems.split(","),angular.forEach(attrs.toolbarItems.split(","),function(item){"Bold"==item&&strokes.push([window.CKEDITOR.CTRL+66,"bold"]),"Link"==item&&strokes.push([window.CKEDITOR.CTRL+76,"link"]),"Italic"==item&&strokes.push([window.CKEDITOR.CTRL+73,"italic"]),"Underline"==item&&strokes.push([window.CKEDITOR.CTRL+85,"underline"])})),window.CKEDITOR.config.keystrokes=strokes;var editor=window.CKEDITOR.replace(element[0],{toolbar:attrs.toolbarItems?[attrs.toolbarItems.split(",")]:[["Bold","BulletedList","Link"]],toolbarLocation:attrs.toolbarLocation?attrs.toolbarLocation:"bottom",toolbarCanCollapse:!1,removePlugins:"elementspath",extraPlugins:"autogrow",autoGrow_onStartup:!0,autoGrow_minHeight:150,resize_enabled:!1,forcePasteAsPlainText:!0,linkShowAdvancedTab:!1,linkShowTargetTab:!1,entities:!1},element.val());editor.on("contentDom",function(){function update(){var content=editor.getData().replace(/<p>\n\t/gi,"<p>").replace(/\n$/,"");$parse(attrs.ngModel).assign(scope,content),scope.$apply()}angular.forEach(["focus","blur"],function(event){editor.on(event,function(){element.triggerHandler(event)})}),editor.document.on("keyup",update),editor.on("focus",update),editor.on("blur",update),editor.on("afterCommandExec",update)}),ctrl.$parsers.push(function(value){editor.setData(value)})})}}}])}(window.angular,window),function(angular,$window){"use strict";var module=angular.module("ngx.ui.confirm",["ngx.dictionary"]);module.directive("ngxConfirm",["ngxDictionary",function(ngxDictionary){return{restrict:"A",link:function(scope,element,attrs){var message=attrs.ngxConfirm?attrs.ngxConfirm:ngxDictionary("NGX_UI_CONFIRM");element.bind("click",function(event){$window.confirm(message)||event.preventDefault()})}}}])}(window.angular,window),function(angular,$){"use strict";var module=angular.module("ngx.ui.dateInput",["ngx.date","ngx.dictionary"]);module.directive("ngxDateInput",["$parse","ngxDate","ngxDictionary",function($parse,ngxDate,ngxDictionary){return{require:"ngModel",link:function(scope,element,attrs,ctrl){element=$(element),element.datepicker({dateFormat:"d.m.yy",firstDay:1,showButtonPanel:!1,showMinute:!1,closeText:ngxDictionary("NGX_UI_DATEINPUT_CLOSE"),prevText:ngxDictionary("NGX_UI_DATEINPUT_PREV"),nextText:ngxDictionary("NGX_UI_DATEINPUT_NEXT"),currentText:ngxDictionary("NGX_UI_DATEINPUT_NOW"),monthNames:ngxDictionary("NGX_UI_DATEINPUT_MONTHS"),dayNamesMin:ngxDictionary("NGX_UI_DATEINPUT_DAYS"),onSelect:function(dateText){scope.$apply(function(){ctrl.$setViewValue(dateText)})}}),ctrl.element=element;var dateRangeMaxDays=attrs.rangeMaxdays?attrs.rangeMaxdays:void 0,dateInputMin=ngxDate.parse(attrs.min),dateInputMax=ngxDate.parse(attrs.max),dateInputMaxRange=null;dateInputMin&&ctrl.element.datepicker("option","minDate",dateInputMin),dateInputMax&&ctrl.element.datepicker("option","maxDate",dateInputMax),attrs.rangeInput?(ctrl.range={type:"max",ctrl:$parse(attrs.rangeInput)(scope)},ctrl.range.ctrl.range={type:"min",ctrl:ctrl}):ctrl.range=null,ctrl.$parsers.push(function(viewValue){var date,valid=!0;if(viewValue&&ctrl.$dirty){var pd=new RegExp("^([0-9]{1,2}). ?([0-9]{1,2}). ?([0-9]{4})").exec(viewValue);if(valid=pd&&ngxDate.check(pd[3],pd[2],pd[1]),valid&&(date=new Date(pd[3],pd[2]-1,pd[1]),dateInputMin&&dateInputMin>date&&(valid=!1),dateInputMax&&(date>dateInputMax&&(valid=!1),dateRangeMaxDays&&(dateInputMaxRange=new Date(date.getTime()+1e3*86400*dateRangeMaxDays),ctrl.range.ctrl.timestampValue&&date.getTime()-1e3*86400*dateRangeMaxDays>1e3*ctrl.range.ctrl.timestampValue&&(valid=!1))),ctrl.timeInput))if(ctrl.timeInput.$valid){var hours=ctrl.timeInput.hours,minutes=ctrl.timeInput.minutes;ctrl.range&&"max"===ctrl.range.type&&void 0===hours&&(hours=23,minutes=59),void 0!==hours&&(date.setHours(hours),date.setMinutes(minutes))}else valid=!1}var modelValue=date&&valid?ngxDate.format("Y-m-d",date):void 0;if(ctrl.timestampValue=date&&valid?date.getTime()/1e3:void 0,ctrl.$setValidity("date",valid),ctrl.range){ctrl.$error.date||(ctrl.range.ctrl.element.datepicker("option",ctrl.range.type+"Date",viewValue),"min"==ctrl.range.type&&dateInputMaxRange&&ctrl.range.ctrl.element.datepicker("option","maxDate",dateInputMaxRange));var min="min"===ctrl.range.type?ctrl.timestampValue:ctrl.range.ctrl.timestampValue,max="max"===ctrl.range.type?ctrl.timestampValue:ctrl.range.ctrl.timestampValue;valid=min&&max?max>=min:!0,ctrl.$setValidity("range",valid),ctrl.range.ctrl.$setValidity("range",valid)}return modelValue})}}}])}(window.angular,window.jQuery),function(angular,$){"use strict";var module=angular.module("ngx.ui.dialog",[]);module.directive("ngxDialog",["$timeout","$rootScope",function($timeout,$rootScope){return{restrict:"EA",controller:["$scope","$element",function($scope,$element){this.close=function(){$element.dialog("close")}}],link:function(scope,element,attrs,ctrl){element.addClass("ngx-dialog").css("display","block").hide();var options={autoOpen:!1,width:attrs.width?attrs.width:"auto",height:attrs.height?attrs.height:"auto",modal:attrs.modal?!0:!1,title:attrs.title,resizable:!1};element.dialog(options),$(attrs.trigger).click(function(e){return e.preventDefault(),element.dialog("open"),!1}),void 0===attrs.title&&attrs.$observe("title",function(value){element.dialog("option","title",value)}),attrs.onclose&&element.dialog("option","close",function(){$timeout(function(){scope.$eval(attrs.onclose)},0)}),$rootScope.$on("$routeChangeSuccess",function(){ctrl.close()})}}}]),module.directive("ngxDialogButton",["$parse",function($parse){return{require:"^ngxDialog",link:function(scope,element,attrs,dialogCtrl){element.addClass("ngx-dialog-button");var expression=attrs.ngxDialogButton;element.bind("click",function(e){return"@close"===expression?dialogCtrl.close():scope.$apply(function(){$parse(expression)(scope,{$dialog:dialogCtrl})}),e.preventDefault(),!1})}}}])}(window.angular,window.jQuery),function(angular,$){"use strict";var module=angular.module("ngx.ui.gallery",["ngx.config","ngx.ui.lightbox"]);module.directive("ngxGallery",["$timeout","ngxConfig",function($timeout,ngxConfig){return{restrict:"EA",replace:!0,templateUrl:ngxConfig.templatesPath+"ui/gallery/gallery.html",transclude:!0,controller:["$scope",function($scope){angular.isArray($scope.items)||($scope.items=[]),this.add=function(type,data){data.type=type,$scope.items.push(data)}}],scope:{items:"=ngxGallery"},link:function(scope,element){scope.src=function(item){return item.thumbSrc?item.thumbSrc:item.src},$(element).find("div[ng-transclude]").remove(),$timeout(function(){element.triggerHandler("link",[element])},0)}}}]),module.directive("ngxGalleryItem",function(){return{restrict:"EA",require:"^ngxGallery",replace:!0,link:function(scope,element,attrs,ctrl){var item={};angular.forEach(["src","thumbSrc","title"],function(key){attrs[key]&&(item[key]=attrs[key])}),ctrl.add(attrs.type?attrs.type:"image",item)}}}),module.directive("ngxGalleryToggle",function(){return{replace:!0,template:'<a class="ngx-gallery-toggle" ng-click="toggle()" ng-transclude></a>',transclude:!0,link:function(scope,element,attrs){var gallery,toggleText;$(attrs.ngxGalleryToggle).bind("link",function(e,g){gallery=g.css("max-height",g.height()).addClass("collapsed")}),scope.toggle=function(){gallery.toggleClass("collapsed"),toggleText=element.html(),element.html(attrs.toggleText),attrs.$set("toggleText",toggleText)}}}})}(window.angular,window.jQuery),function(angular){"use strict";var module=angular.module("ngx.ui.geomap",["ngx.ui.smap"]);module.directive("ngxGeomap",["$compile",function($compile){return{link:function(scope,element,attrs){attrs.$set("ngxGeomap",void 0),attrs.$set("ngxSmap",""),$compile(element)(scope)}}}])}(window.angular),function(angular){"use strict";var module=angular.module("ngx.ui.hashtagInput",[]);module.directive("ngxHashtagInput",function(){return{require:"ngModel",link:function(scope,element,attrs,ctrl){ctrl.$parsers.push(function(value){return value=""===value||"#"===value||"string"!=typeof value?"":"#"+value.replace(/^([#]+)/,""),element.val(value),ctrl.$setValidity("hashtag",!(value&&value.substring(1).match(/(\s|#)/))),value})}}})}(window.angular),function(angular,$,window){"use strict";function resizeRatio(width,maxWidth,height,maxHeight){var ratio=[1];return width>maxWidth&&ratio.push(maxWidth/width),height>maxHeight&&ratio.push(maxHeight/height),ratio.sort(),ratio[0]}var module=angular.module("ngx.ui.imageupload",["ngx.config","ngx.loader","ngx.dictionary","ngx.ui.translate"]);module.directive("ngxImageupload",["$timeout","ngxConfig","ngxLoader","ngxDictionary",function($timeout,ngxConfig,ngxLoader,ngxDictionary){var deps=[ngxConfig.libsPath+"jquery.jcrop/jquery.Jcrop.js",ngxConfig.libsPath+"jquery.jcrop/jquery.Jcrop.css",ngxConfig.libsPath+"jquery.fileupload/jquery.fileupload.js",ngxConfig.libsPath+"jquery.iframe-transport/jquery.iframe-transport.js"];return{restrict:"EA",replace:!0,require:"ngModel",templateUrl:ngxConfig.templatesPath+"ui/imageupload/imageupload.html",scope:{model:"=ngModel",config:"="},link:function(scope,element,attrs){function reset(){resultImage=void 0,scope.isSource=!1}function showSourceImage(sourceImage,strict){var imgNewWidth,imgNewHeight,$sourceImage=$(sourceImage),sourceWidth=$sourceImage.data("width")?$sourceImage.data("width"):sourceImage.width,sourceHeight=$sourceImage.data("height")?$sourceImage.data("height"):sourceImage.height;if(strict&&!(resultScale[0]<sourceWidth&&resultScale[1]<sourceHeight))return window.alert(ngxDictionary("NGX_UI_IMAGEUPLOAD_INCORRECT_IMAGE_SIZE",void 0,[resultScale[0],resultScale[1]])),void 0;if(scope.isSource=sourceImage?!0:!1,$sourceImage.css({"max-width":sourceScale[0]+"px","max-height":sourceScale[1]+"px"}).show(),features.crop){var cropRatio=resizeRatio(sourceWidth,sourceScale[0],sourceHeight,sourceScale[1]),cropOptions={setSelect:[0,0,resultScale[0],resultScale[1]],bgColor:"transparent",onSelect:function(coords){function createResult(canvas,width,height,image){if(!resultFixed){var ratio=resizeRatio(coords.w,width,coords.h,height);width=Math.floor(coords.w*ratio),height=Math.floor(coords.h*ratio)}return canvas.width=width,canvas.height=height,image&&(image.width=width,image.height=height),canvas.getContext("2d").drawImage(sourceImage,coords.x,coords.y,coords.w-2,coords.h-2,0,0,width,height),canvas.toDataURL(resultMime,.9)}coords.x=Math.floor(coords.x/cropRatio),coords.y=Math.floor(coords.y/cropRatio),coords.w=Math.floor(coords.w/cropRatio),coords.h=Math.floor(coords.h/cropRatio),resultImage={},resultImage.src=createResult(resultCanvas,resultScale[0],resultScale[1],resultImage),thumbScale&&(resultImage.thumbSrc=createResult(thumbCanvas,thumbScale[0],thumbScale[1])),$("[data-imageupload-rel=result]").attr(resultImage)}};if(resultFixed&&(cropOptions.aspectRatio=resultScale[0]/resultScale[1]),checkMinSize){imgNewWidth=sourceWidth,imgNewHeight=sourceHeight,(sourceWidth>sourceScale[0]||sourceHeight>sourceScale[1])&&(sourceWidth>sourceHeight?(imgNewWidth=sourceScale[0],imgNewHeight=sourceHeight/(sourceWidth/sourceScale[0])):(imgNewWidth=sourceWidth/(sourceHeight/sourceScale[1]),imgNewHeight=sourceScale[1]));var widthScale=resultScale[0]/(sourceWidth/imgNewWidth),heightScale=resultScale[1]/(sourceHeight/imgNewHeight);cropOptions.minSize=[widthScale,heightScale]}var jcrop=$sourceImage.data("Jcrop");jcrop&&jcrop.destroy(),$sourceImage.Jcrop(cropOptions,function(){cropOptions.onSelect(this.tellSelect())})}else resultImage={width:sourceWidth,height:sourceHeight,src:$sourceImage.attr("src")}}function setup(){var $element=$(element),config=angular.extend({},ngxConfig.ui.imageupload,scope.config,attrs);sourceScale=(config.sourceScale||"400x400").split("x"),resultScale=(config.resultScale||"215x125").split("x"),resultFixed=!angular.isUndefined(config.resultFixed),checkMinSize=!angular.isUndefined(config.checkMinSize),resultMime="image/"+((config.resultFormat||"").match(/^jpe?g$/)?"jpeg":"png"),thumbScale=config.resultThumbScale||void 0,thumbScale&&(thumbScale=thumbScale.split("x")),scope.resultWidth=resultScale[0],scope.resultHeight=resultScale[1],reset(),$element.find(".source").css({width:sourceScale[0]+"px",height:sourceScale[1]+"px"}),$element.find(".result").css({width:resultScale[0]+"px",height:resultScale[1]+"px"}),scope.features=features,scope.featureClass=[],angular.forEach(["crop","fileApi"],function(feature){scope.featureClass.push(features[feature]?feature:"no-"+feature.toLowerCase())
}),scope.featureClass=scope.featureClass.join(" "),config.dialogTrigger&&($(config.dialogTrigger).click(function(e){return e.preventDefault(),$element.dialog("open"),!1}),$element.dialog({autoOpen:!1,minWidth:parseInt(sourceScale[0],10)+parseInt(resultScale[0],10)+70,minHeight:parseInt(sourceScale[1]>resultScale[1]?sourceScale[1]:resultScale[1],10)+50,resizable:!1,modal:angular.isDefined(attrs.dialogModal)&&"false"!==attrs.dialogModal,title:config.dialogTitle,buttons:[{text:ngxDictionary("NGX_UI_IMAGEUPLOAD_DIALOG_SUBMIT"),click:function(){scope.model="simple"===config.resultMode?resultImage.src:resultImage,$(this).dialog("close")}},{text:ngxDictionary("NGX_UI_IMAGEUPLOAD_DIALOG_CANCEL"),click:function(){$(this).dialog("close")}}],close:function(){reset(),scope.$apply()}})),$element.fileupload({url:config.sourceContentUrl,fileInput:$element.find("input[type=file]"),dropZone:$("[data-imageupload-rel=dragdrop]"),dataType:"json",replaceFileInput:!0,formData:{crop:features.crop?"true":"false"},add:function(e,data){var file=data.files[0],image=$("[data-imageupload-rel=source]")[0];if($(image).hide(),image.onload=function(){showSourceImage(this,$element.attr("source-strict")),scope.$apply()},image.onerror=function(){window.alert(ngxDictionary("NGX_UI_IMAGEUPLOAD_INVALID_IMAGE"))},features.fileApi){var fileReader=new window.FileReader;fileReader.onload=function(e){image.src=e.target.result},fileReader.readAsDataURL(file)}else data.submit().success(function(result){$(image).data("width",result.width).data("height",result.height),image.src=result.src}).error(function(){window.alert(ngxDictionary("NGX_UI_IMAGEUPLOAD_PROCESS_ERROR"))})}})}var sourceScale,thumbScale,resultScale,resultImage,resultFixed,checkMinSize,resultMime,thumbCanvas=$("<canvas/>")[0],resultCanvas=$("<canvas/>")[0],features={crop:resultCanvas.getContext?!0:!1,fileApi:"undefined"!=typeof window.FileReader};element.hide(),ngxLoader(deps,function(){element.show(),$timeout(setup,0)})}}}])}(window.angular,window.jQuery,window),document.createElement("ngx-invalid"),function(angular,$){"use strict";var module=angular.module("ngx.ui.invalid",[]);module.directive("ngxInvalid",["$window",function($window){return{restrict:"EA",link:function(scope,element,attrs){element.addClass("ngx-invalid");var parts=attrs.ngxInvalid?attrs.ngxInvalid.split(" "):[],input=attrs.input?attrs.input:parts[0],errors=attrs.error?attrs.error:parts[1],scrollable=void 0!==attrs.ngxScrollable?!0:!1,watch=[];scope.elementOffset=0,errors?angular.forEach(errors.split(","),function(type){watch.push(input+".$error."+type)}):watch.push(input+".$invalid"),watch=[watch.length>1?"("+watch.join(" || ")+")":watch[0]],attrs.ngShow&&watch.push(attrs.ngShow),attrs.expression&&watch.push(attrs.expression),scope.$watch("elementOffset",function(value,oldvalue){value!==oldvalue&&null!==value&&$window.scrollTo(0,value.top-50)}),scope.$watch(watch.join(" && "),function(value){element.toggle(value?!0:!1),value===!0&&scrollable&&(scope.elementOffset=$(".ngx-invalid:visible:eq(0)").offset())})}}}])}(window.angular,window.jQuery),function(angular,$){"use strict";var module=angular.module("ngx.ui.lightbox",["ngx.config","ngx.loader"]);module.directive("ngxLightbox",["ngxConfig","ngxLoader",function(ngxConfig,ngxLoader){var deps=[ngxConfig.libsPath+"jquery.fancybox/jquery.fancybox.js",ngxConfig.libsPath+"jquery.fancybox/css/fancybox.css"];return{link:function(scope,element,attrs){attrs.ngxLightbox&&element.attr("rel",attrs.ngxLightbox),ngxLoader(deps,function(){$(element).fancybox({onStart:function(items,index,options){var arrowStyle={height:"100%",bottom:0};return angular.extend(options,{href:attrs.href||attrs.src,title:attrs.title,titlePosition:"inside",speedIn:150,speedOut:150}),options.href.match(/youtube\.com/)?(angular.extend(options,{type:"swf",href:attrs.href+"?autoplay=1&fs=1",width:661,height:481,swf:{wmode:"transparent",allowfullscreen:!0}}),angular.extend(arrowStyle,{height:"40%",bottom:"30%"})):options.href.match(/(jpg|png|gif|bmp)$/)||options.href.match(/^data:image\//)?options.type="image":angular.extend(options,{type:"iframe",width:"90%",height:"95%"}),angular.forEach(["width","height","title","type"],function(attr){attrs[attr]&&(options[attr]=attrs[attr])}),$("#fancybox-left").css(arrowStyle),$("#fancybox-right").css(arrowStyle),options}})})}}}])}(window.angular,window.jQuery),function(angular){"use strict";var module=angular.module("ngx.ui.rating",["ngx.config","ngx.dictionary","ngx.utils"]);module.directive("ngxRating",["ngxConfig","ngxDictionary","ngxUtils",function(ngxConfig,ngxDictionary,ngxUtils){var SELECTED_CLASS="ngx-rating-selected",HOVER_CLASS="ngx-rating-hover";return{restrict:"EA",templateUrl:ngxConfig.templatesPath+"ui/rating/rating.html",replace:!0,scope:{level:"=",max:"@",symbol:"@",readOnly:"@",clearable:"@",clearText:"@",changeOnHover:"@"},link:function(scope,elem,attrs){function updateSelectedStyles(level){angular.forEach(scope.styles,function(style,i){style[SELECTED_CLASS]=level>=i})}scope.styles=[],attrs.$observe("max",function(max){scope.max=parseInt(max||5,10);for(var i=0;i<scope.max;i++){var style={};style[SELECTED_CLASS]=!1,style[HOVER_CLASS]=!1,scope.styles.push(style)}}),attrs.$observe("symbol",function(symbol){scope.symbol=ngxUtils.noUndefined(symbol,"★")}),attrs.$observe("readOnly",function(readOnly){scope.readOnly=angular.isDefined(readOnly)}),attrs.$observe("clearable",function(clearable){scope.clearable=angular.isDefined(clearable)}),attrs.$observe("clearText",function(clearText){scope.clearText=ngxUtils.noUndefined(clearText,ngxDictionary("NGX_UI_RATING_CLEAR"))}),attrs.$observe("changeOnHover",function(changeOnHover){scope.changeOnHover=angular.isDefined(changeOnHover)}),scope.$watch("level",function(level){scope.changeOnHover&&(scope.oldLevel=ngxUtils.noUndefined(scope.oldLevel,level)),updateSelectedStyles(level-1)}),scope.enter=function(level){scope.readOnly||(scope.changeOnHover&&(scope.level=level+1),angular.forEach(scope.styles,function(style,i){style[HOVER_CLASS]=level>=i}))},scope.leave=function(){scope.readOnly||(scope.changeOnHover&&(scope.level=scope.oldLevel),angular.forEach(scope.styles,function(style){style[HOVER_CLASS]=!1}))},scope.select=function(level){scope.readOnly||(null===level&&(level=-1),scope.level=level+1,scope.changeOnHover&&(scope.oldLevel=scope.level),updateSelectedStyles(level))}}}}])}(window.angular),function(angular,$){"use strict";var module=angular.module("ngx.ui.scrollTo",[]);module.directive("ngxScrollTo",function(){return function(scope,element,attrs){element.bind("click",function(e){return e.preventDefault(),$("html, body").animate({scrollTop:$(attrs.ngxScrollTo).offset().top+(attrs.offset?parseInt(attrs.offset,10):0)},600),!1})}})}(window.angular,window.jQuery),function(angular,$){"use strict";var module=angular.module("ngx.ui.scrollToInvalid",[]);module.directive("ngxScrollToInvalid",["$window",function($window){return{link:function(scope,element){element.bind("click",function(){setTimeout(function(){var visibleInvalid=$(".ngx-invalid:visible");if(visibleInvalid.length>0){var previousElement=visibleInvalid.eq(0).prevAll("input, textarea, select"),height=0===previousElement.length?50:previousElement.height()+20;$window.scrollTo(0,visibleInvalid.eq(0).offset().top-height)}})})}}}])}(window.angular,window.jQuery),function(angular){"use strict";var module=angular.module("ngx.ui.smap",["ngx.smap"]);module.directive("ngxSmap",["ngxSmap",function(ngxSmap){return{link:function(scope,element,attrs){function setCoords(coords){map.setCenter(coords,{zoom:!0,marker:!0})}element.addClass("ngx-smap");var map=ngxSmap(element[0]);map.create({controls:attrs.controls}),element.data("ngx.ui.geomap",map),attrs.$observe("coords",function(coords){coords&&setCoords(coords)})}}}])}(window.angular),function(angular,$){"use strict";var module=angular.module("ngx.ui.tagsInput",["ngx.config","ngx.loader"]);module.directive("ngxTagsInput",["$http","$filter","$timeout","ngxConfig","ngxLoader",function($http,$filter,$timeout,ngxConfig,ngxLoader){var deps=[ngxConfig.libsPath+"jquery.tagsinput/jquery.tagsinput.js",ngxConfig.libsPath+"jquery.tagsinput/jquery.tagsinput.css"],counter=0;return{require:"ngModel",link:function(scope,element,attrs,ctrl){var minCount=attrs.min?parseInt(attrs.min,10):null,maxCount=attrs.max?parseInt(attrs.max,10):null;element=$(element),attrs.id||attrs.$set("id","tags_input_"+counter++);var autocomplete;(attrs.autocompleteUrl||attrs.autocompleteSource)&&(autocomplete={url:attrs.autocompleteUrl?attrs.autocompleteUrl:!0,data:attrs.autocompleteSource?scope.$eval(attrs.autocompleteSource):void 0,source:function(request,response){void 0===autocomplete.data?$http.get(autocomplete.url).success(function(data){autocomplete.data=data,response(autocomplete.filter(request.term))}):response(autocomplete.filter(request.term))},filter:function(term){return $filter("filter")(autocomplete.data,term)}}),ngxLoader(deps,function(){element.tagsInput({autocomplete_url:autocomplete?autocomplete.url:void 0,autocomplete:autocomplete?{source:autocomplete.source,minLength:attrs.autocompleteMinLength?parseInt(attrs.autocompleteMinLength,10):2}:void 0,maxChars:30,maxCount:maxCount?maxCount:null,width:null,height:null,defaultText:"",onChange:function(tagsInput){var handler=element.data("ngx.tagsInput.onchange");handler&&handler($(tagsInput).val())}});var tagElement=$("#"+attrs.id+"_tag");angular.forEach(["focus","blur"],function(event){tagElement.bind(event,function(){element.triggerHandler(event,[this])})}),ctrl.$parsers.push(function(value){var values;return"string"==typeof value&&value.length&&(values=value.split(",")),minCount&&ctrl.$setValidity("min",values&&values.length>=minCount),maxCount&&ctrl.$setValidity("max",values?values.length<=maxCount:!0),values}),ctrl.$render=function(){ctrl.$modelValue&&element.importTags(ctrl.$modelValue.join(","))},element.data("ngx.tagsInput.onchange",function(value){$timeout(function(){ctrl.$setViewValue(value)},0)})})}}}])}(window.angular,window.jQuery),function(angular,$){"use strict";var module=angular.module("ngx.ui.textCurtain",["ngx.dictionary"]);module.directive("ngxTextCurtain",["ngxDictionary",function(ngxDictionary){return{compile:function(element,attrs){var cMaxHeight,bodyTopPosition,elTopPosition,defaultTx=angular.isDefined(attrs.curtainText)?attrs.curtainText:ngxDictionary("NGX_UI_CURTAINTEXT_SHOW"),defaultTxHide=angular.isDefined(attrs.curtainTextHide)?attrs.curtainTextHide:ngxDictionary("NGX_UI_CURTAINTEXT_HIDE"),minHeight=angular.isDefined(attrs.curtainMinHeight)?parseInt(attrs.curtainMinHeight,10):null,hideFalse=angular.isDefined(attrs.curtainHideFalse)?!0:!1,minNumChars=angular.isDefined(attrs.curtainMinChars)?attrs.curtainMinChars:800,cHeight=angular.isDefined(attrs.curtainHeight)?attrs.curtainHeight:"100px",button=$('<div class="show-more-desc"><span><a>'+defaultTx+"</a></span></div>"),bottomGradient=$('<div class="bottom-grad"></div>');element.ready(function(){return cMaxHeight=element.height(),minHeight&&cMaxHeight>minHeight||element.text().length>minNumChars?(element.addClass("short-desc"),element.css({height:cHeight,overflow:"hidden"}),element.prepend(bottomGradient),button.find("a").click(function(e){"hidden"==element.css("overflow")?element.animate({height:cMaxHeight+20},600,function(){element.css({overflow:"visible"}),element.find(".bottom-grad").remove(),$(e.target).text(defaultTxHide),hideFalse&&element.next(".show-more-desc").remove()}):(element.prepend(bottomGradient),bodyTopPosition=-1*$("html, body").offset().top,elTopPosition=element.offset().top,bodyTopPosition>elTopPosition&&$("html, body").animate({scrollTop:elTopPosition-20},"slow"),element.animate({height:cHeight},600,function(){element.css({overflow:"hidden"}),$(e.target).text(defaultTx)}))}),element.after(button),!0):void 0})}}}])}(window.angular,window.jQuery),function(angular,$){"use strict";var module=angular.module("ngx.ui.timeInput",[]);module.directive("ngxTimeInput",["$parse",function($parse){return{require:"ngModel",link:function(scope,element,attrs,ctrl){var dateInput;attrs.dateInput&&(dateInput=$parse(attrs.dateInput)(scope),dateInput.timeInput=ctrl);for(var values=[],h=0;23>=h;h++)for(var m=0;59>=m;m+=15)values.push((10>h?"0"+h:h)+":"+(10>m?"0"+m:m));element.autocomplete({source:values,minLength:0,delay:0,open:function(){element.autocomplete("widget").css("width","60px")},select:function(event,ui){scope.$apply(function(){ctrl.$setViewValue(ui.item.value)})}}).focus(function(){element.autocomplete("search",-1===$.inArray(element.val(),values)?"":element.val())}),ctrl.$parsers.push(function(value){ctrl.hours=void 0,ctrl.minutes=void 0;var valid=!0;if(value&&value.length){var re=new RegExp("([0-9]{1,2}):([0-9]{2})$").exec(value);valid=re&&re[1]>=0&&re[1]<=23&&re[2]>=0&&re[2]<=59,valid&&(ctrl.hours=parseInt(re[1],10),ctrl.minutes=parseInt(re[2],10))}return ctrl.$setValidity("time",valid),dateInput&&dateInput.$setViewValue(dateInput.$viewValue),value})}}}])}(window.angular,window.jQuery),function(angular,$){"use strict";var module=angular.module("ngx.ui.tooltip",[]);module.directive("ngxTooltip",function(){return{restrict:"EA",replace:!0,transclude:!0,template:'<div class="ngx-tooltip" ng-transclude><span class="arrow"><span></span></span></div>',link:function(scope,element,attrs){attrs.ngxTooltip||((attrs.element?$(attrs.element):element.prevAll("input,select,textarea")).bind({focus:function(event,trigger){trigger&&$(trigger).is(":disabled")||element.show()},blur:function(){element.hide()}}),element.hide())}}})}(window.angular,window.jQuery),function(angular){"use strict";var markupSymbol,module=angular.module("ngx.ui.translate",["ngx.dictionary"]);module.config(["$interpolateProvider",function($interpolateProvider){markupSymbol=$interpolateProvider.startSymbol()}]),module.directive("ngxTranslate",["ngxDictionary","$interpolate","$log",function(ngxDictionary,$interpolate){return{link:function(scope,element,attrs){var key=attrs.ngxTranslate?attrs.ngxTranslate:element.html();if(key.length){var translated=ngxDictionary(key,attrs.language);-1!==translated.indexOf(markupSymbol)&&scope.$watch(function(){return $interpolate(translated)(scope)},function(value){element.html(value)}),element.html(translated)}}}}])}(window.angular),function(angular){"use strict";var module=angular.module("ngx.ui.validate",[]);module.directive("ngxValidate",function(){return{restrict:"EA",require:"?ngModel",link:function(scope,element,attrs,ctrl){var validators=scope.$eval(attrs.ngxValidate?attrs.ngxValidate:attrs.validators);angular.isObject(validators)||(validators={validation:validators}),angular.forEach(validators,function(validator,key){function validate(value){var valid,args=[];return ctrls.length>1?angular.forEach(ctrls,function(ctrl){args.push(ctrl.$viewValue)}):args.push(value),valid=validator.apply(scope,args),angular.forEach(ctrls,function(ctrl){ctrl.$setValidity(key,valid)}),valid?value:void 0}var ctrls=ctrl?[ctrl]:[];angular.isArray(validator)&&(angular.forEach(validator.slice(1),function(value){ctrls.push(value)}),validator=validator[0]),angular.isFunction(validator)&&angular.forEach(ctrls,function(ctrl){ctrl.$formatters.push(validate),ctrl.$parsers.push(validate)})})}}})}(window.angular,window.console),function(angular){"use strict";var module=angular.module("ngx.ui.wwwInput",[]);module.directive("ngxWwwInput",function(){var format=/https?:\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,protocol=/^https?:\/\//;return{require:"ngModel",link:function(scope,element,attrs,ctrl){function parse(value){var result=void 0!==value&&value.length?protocol.test(value)?value:"http://"+value:void 0,valid=!(result&&result.length&&!format.test(result));return ctrl.$setValidity("www",valid),valid?result:value}ctrl.$parsers.push(parse),ctrl.$render=function(){ctrl.$setViewValue(ctrl.$viewValue),element.val(ctrl.$modelValue)}}}})}(window.angular),function(angular){"use strict";var module=angular.module("ngx.ui.wysiwyg",["ngx.ui.ckeditor"]);module.directive("ngxWysiwyg",["$compile",function($compile){return{require:"ngModel",link:function(scope,element,attrs){attrs.$set("ngxWysiwyg",void 0),attrs.$set("ngxCkeditor",""),$compile(element)(scope)}}}])}(window.angular),function(angular){"use strict";var ngxUtils={};ngxUtils.extendRecursive=function(dst){return angular.forEach(arguments,function(obj,index){0!==index&&angular.forEach(obj,function(value,property){angular.isObject(value)&&angular.isObject(dst[property])?ngxUtils.extendRecursive(dst[property],value):dst[property]=value})}),dst},ngxUtils.noUndefined=function(value,defaultValue){return void 0!==value?value:defaultValue},angular.module("ngx.utils",[]).value("ngxUtils",ngxUtils)}(window.angular),function(angular){"use strict";angular.module("ngx.ui.confirm").run(["ngxDictionary",function(ngxDictionary){ngxDictionary.addItems("cs",{NGX_UI_CONFIRM:"Jste si jisti, že chcete pokračovat?"})}])}(window.angular),function(angular){"use strict";angular.module("ngx.ui.confirm").run(["ngxDictionary",function(ngxDictionary){ngxDictionary.addItems("en",{NGX_UI_CONFIRM:"Are you sure you want to continue?"})}])}(window.angular),function(angular){"use strict";angular.module("ngx.ui.confirm").run(["ngxDictionary",function(ngxDictionary){ngxDictionary.addItems("pl",{NGX_UI_CONFIRM:"Czy jesteś pewien, że chcesz kontynuować?"})}])}(window.angular),function(angular){"use strict";angular.module("ngx.ui.dateInput").run(["ngxDictionary",function(ngxDictionary){ngxDictionary.addItems("cs",{NGX_UI_DATEINPUT_NOW:"Nyní",NGX_UI_DATEINPUT_NEXT:"Další",NGX_UI_DATEINPUT_PREV:"Předchozí",NGX_UI_DATEINPUT_CLOSE:"Zavřít",NGX_UI_DATEINPUT_DAYS:["Ne","Po","Út","St","Čt","Pá","So"],NGX_UI_DATEINPUT_MONTHS:["Leden","Únor","Březen","Duben","Květen","Červen","Červenec","Srpen","Září","Říjen","Listopad","Prosinec"]})}])}(window.angular),function(angular){"use strict";angular.module("ngx.ui.dateInput").run(["ngxDictionary",function(ngxDictionary){ngxDictionary.addItems("en",{NGX_UI_DATEINPUT_NOW:"Now",NGX_UI_DATEINPUT_NEXT:"Next",NGX_UI_DATEINPUT_PREV:"Previous",NGX_UI_DATEINPUT_CLOSE:"Close",NGX_UI_DATEINPUT_DAYS:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],NGX_UI_DATEINPUT_MONTHS:["January","February","March","April","May","June","July","August","September","October","November","December"]})}])}(window.angular),function(angular){"use strict";angular.module("ngx.ui.dateInput").run(["ngxDictionary",function(ngxDictionary){ngxDictionary.addItems("pl",{NGX_UI_DATEINPUT_NOW:"Teraz",NGX_UI_DATEINPUT_NEXT:"Następny",NGX_UI_DATEINPUT_PREV:"Poprzedni",NGX_UI_DATEINPUT_CLOSE:"Koniec",NGX_UI_DATEINPUT_DAYS:["Nie","Pon","Wto","Śro","Czw","Pią","Sob"],NGX_UI_DATEINPUT_MONTHS:["Styczeń","Luty","Marzec","Kwiecień","Maj","Czerwiec","Lipiec","Sierpień","Wrzesień","Październik","Listopad","Grudzień"]})}])}(window.angular),function(angular){"use strict";angular.module("ngx.ui.imageupload").run(["ngxDictionary",function(ngxDictionary){ngxDictionary.addItems("cs",{NGX_UI_IMAGEUPLOAD_PREVIEW:"náhled",NGX_UI_IMAGEUPLOAD_INPUT_DRAG:"Sem přetáhněte obrázek",NGX_UI_IMAGEUPLOAD_INPUT_OR:"nebo můžete...",NGX_UI_IMAGEUPLOAD_INPUT_BROWSE:"vybrat z počítače",NGX_UI_IMAGEUPLOAD_SCALE_INFO:"maximální povolené rozměry obrázku jsou {{resultWidth}} x {{resultHeight}}",NGX_UI_IMAGEUPLOAD_DIALOG_SUBMIT:"Nahrát",NGX_UI_IMAGEUPLOAD_DIALOG_CANCEL:"Zrušit",NGX_UI_IMAGEUPLOAD_INVALID_IMAGE:"Neplatný obrázek",NGX_UI_IMAGEUPLOAD_PROCESS_ERROR:"Chyba při zpracování obrázku anebo neplatný obrázek",NGX_UI_IMAGEUPLOAD_INCORRECT_IMAGE_SIZE:"Obrázek nesplňuje minimální rozměry. Minimální rozměry jsou: %sx%s."})}])}(window.angular),function(angular){"use strict";angular.module("ngx.ui.imageupload").run(["ngxDictionary",function(ngxDictionary){ngxDictionary.addItems("en",{NGX_UI_IMAGEUPLOAD_PREVIEW:"preview",NGX_UI_IMAGEUPLOAD_INPUT_DRAG:"Drag image here",NGX_UI_IMAGEUPLOAD_INPUT_OR:"or...",NGX_UI_IMAGEUPLOAD_INPUT_BROWSE:"choose from your disk",NGX_UI_IMAGEUPLOAD_SCALE_INFO:"maximum allowed dimensions are {{resultWidth}} x {{resultHeight}}",NGX_UI_IMAGEUPLOAD_DIALOG_SUBMIT:"Submit",NGX_UI_IMAGEUPLOAD_DIALOG_CANCEL:"Cancel",NGX_UI_IMAGEUPLOAD_INVALID_IMAGE:"Invalid image",NGX_UI_IMAGEUPLOAD_PROCESS_ERROR:"Error processing image or invalid image",NGX_UI_IMAGEUPLOAD_INCORRECT_IMAGE_SIZE:"Image does not meet the minimum dimensions. Minimum dimensions are: %sx%s."})}])}(window.angular),function(angular){"use strict";angular.module("ngx.ui.imageupload").run(["ngxDictionary",function(ngxDictionary){ngxDictionary.addItems("pl",{NGX_UI_IMAGEUPLOAD_PREVIEW:"podgląd",NGX_UI_IMAGEUPLOAD_INPUT_DRAG:"Upuścić obraz",NGX_UI_IMAGEUPLOAD_INPUT_OR:"lub możecie...",NGX_UI_IMAGEUPLOAD_INPUT_BROWSE:"wybrać z komputera",NGX_UI_IMAGEUPLOAD_SCALE_INFO:"maksymalne wymiary obrazu są {{resultWidth}} x {{resultHeight}}",NGX_UI_IMAGEUPLOAD_DIALOG_SUBMIT:"Wgraj",NGX_UI_IMAGEUPLOAD_DIALOG_CANCEL:"Anulować",NGX_UI_IMAGEUPLOAD_INVALID_IMAGE:"Nieprawidłowy obraz",NGX_UI_IMAGEUPLOAD_PROCESS_ERROR:"Błąd przy przetwarzaniu obrazu lub nieprawidłowy obraz",NGX_UI_IMAGEUPLOAD_INCORRECT_IMAGE_SIZE:"Obraz nie spełnia minimalne wymiary. Minimalne wymiary: %sx%s."})}])}(window.angular),function(angular){"use strict";angular.module("ngx.ui.rating").run(["ngxDictionary",function(ngxDictionary){ngxDictionary.addItems("cs",{NGX_UI_RATING_CLEAR:"vynulovat"})}])}(window.angular),function(angular){"use strict";angular.module("ngx.ui.rating").run(["ngxDictionary",function(ngxDictionary){ngxDictionary.addItems("en",{NGX_UI_RATING_CLEAR:"clear"})}])}(window.angular),function(angular){"use strict";angular.module("ngx.ui.textCurtain").run(["ngxDictionary",function(ngxDictionary){ngxDictionary.addItems("cs",{NGX_UI_CURTAINTEXT_SHOW:"zobrazit více",NGX_UI_CURTAINTEXT_HIDE:"zobrazit méně"})}])}(window.angular),function(angular){"use strict";angular.module("ngx.ui.textCurtain").run(["ngxDictionary",function(ngxDictionary){ngxDictionary.addItems("en",{NGX_UI_CURTAINTEXT_SHOW:"show more",NGX_UI_CURTAINTEXT_HIDE:"hide"})}])}(window.angular),function(angular){"use strict";angular.module("ngx.ui.textCurtain").run(["ngxDictionary",function(ngxDictionary){ngxDictionary.addItems("pl",{NGX_UI_CURTAINTEXT_SHOW:"pokaż więcej",NGX_UI_CURTAINTEXT_HIDE:"schowaj"})}])}(window.angular);